
outfile = args[2];
infile = args[3];

make_assembly = (infile) {
    infile_contents = read_file(infile);
    # TODO
};

write_executable = (assembly, outfile) {
    # Invoke gcc to assemble
    # `gcc -o {outfile} {assembly_file}`;
    # TDOO: after stdin works, remove echo hi |
    `echo hi | gcc -x assembler -o {outfile} -`(assembly);
};

assembly = make_assembly(infile);
write_executable(assembly, outfile);
